<!DOCTYPE html>
<!-- saved from url=(0048)http://www.samirchen.com/xcode-template-manager/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--
    * Author:        SamirChen 
    -->
    
    <title>用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 | SamirChen</title>
    <meta name="author" content="SamirChen">
    <meta name="description" content="SamirChen&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/default.css" type="text/css">
    <link rel="shortcut icon" href="http://www.samirchen.com/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="http://www.samirchen.com/atom.xml">
    <script async="" src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/analytics.js"></script><script src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/jquery-1.7.1.min.js" type="text/javascript"></script>
<script type="text/javascript" async="" src="http://samirchenblog.disqus.com/embed.js"></script></head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="http://www.samirchen.com/">首页</a>
            <a class="home-me" href="http://www.samirchen.com/about-me">关于</a>
            <a class="home-follow" href="http://www.samirchen.com/xcode-template-manager/#" title="欢迎关注我的微信公众号">微信公众号</a>
        </div>
        <div class="home-contact">
            <!-- a href="http://weibo.com/u/1237474277" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/46617134" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
            <a href="https://twitter.com/SamirChen" target="_blank" style="text-align:right"><img src="http://pic.yupoo.com/samirchen/DdyVbam9/K1gn5.png" alt="" width="22"/></a -->
            <img src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/qrcode-somethoughts.jpg" alt="欢迎关注我的微信公众号">
        </div>
    </div>

    <link rel="stylesheet" href="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/prettify.css">
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="http://www.samirchen.com/xcode-template-manager/" title="用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用">用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用</a></h1>
        <p class="entry-date">2015-07-16</p>
        <h2 id="模板规范和复用">模板、规范和复用</h2>

<h3 id="规范">规范</h3>

<p>基本上对于每一种语言，在不同的公司或团队中都会形成自己的一套编码规范，编码规范的意义主要有两点：</p>

<ul>
  <li>通过规范减少程序员编码出 Bug 的几率。</li>
  <li>通过规范尽量保证代码样式的一致性、提高代码的可读性，从而方便程序员之间的代码互阅和工作交接。</li>
</ul>

<p>在实际工作中，大部分团队的编码规范落地下来应该仅是一份单纯的文档。大部分人可能根本不会去看完这样一份枯燥的文档，有心的工程师们可能还能好好学习一下，但真正写起代码来也不见得能拗过之前的习惯，最后时间久了、任务紧了，规范就抛在脑后了。</p>

<p>规范的推进和普及本身是一件很难的事，因为这个过程中要去跟每个人的习惯和惰性做斗争，但是如果能往前推进一小步，使得规范的普及率更高一些，对于团队来说，带来的收益也是很可观的。</p>

<h3 id="复用">复用</h3>

<p>在我们的工程中通常有很多可以复用的代码，比如：设计模式类代码、业务相近的代码等等，我们在不同的场景下可能要反反复复写同样结构甚至同样内容的代码，如果这些代码能够被便捷的复用起来，那对于提高开发成员的开发效率将大有裨益。</p>

<p>想想当你创建一个包含 UITableView 的 UIViewController 时，那些基本的 UITableViewDelegate 和 UITableViewDataSource 方法和布局适配代码都已经自动生成了，并填充了基本的测试数据，运行即可见，会不会感觉世界更美好了一点点呢？</p>

<h3 id="模板">模板</h3>

<p>现在，在 Xcode 提供出的接口中，提供给我们在 Xcode 中添加自定义代码模板的能力，通过代码模板，我们可以将编码规范从单纯的文档进一步推进到实际代码中去，使得开发人员在开发中能够更便捷快速的写出符合规范的代码，从而把规范的普及往前推动一些。并且，代码模板本身就是一种复用技术，而在 Xcode 中使用代码模板已经很是快捷，所以更好的利用 Xcode 的这些接口对于提高开发效率很有帮助。</p>

<h2 id="xcode-代码模板">Xcode 代码模板</h2>

<p>Xcode 提供了 3 个维度的代码模板接口：</p>

<ul>
  <li>代码片段（Code Snippet）</li>
  <li>文件模板（File Template）</li>
  <li>项目模板（Project Template）</li>
</ul>

<p>通过这 3 个维度的代码模板，基本上覆盖了我们日常使用模板技术的场景。接下来，就分别说一说。</p>

<h3 id="code-snippet">Code Snippet</h3>

<p>Code Snippet 在 Xcode 的位置如下图所示：</p>

<p><img src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/code_snippet_1.png" alt="image"></p>

<p>在使用时，通过每个 Code Snippet 对应的 Shortcut 我们可以在编码时快速使用它们，用熟了的话，真是有一种四两拨千斤感觉。</p>

<p><img src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/use_code_snippet.gif" alt="image"></p>

<p>自定义的 Code Snippet 会以 <code class="highlighter-rouge">.codesnippet</code> 文件的形式存储在 <code class="highlighter-rouge">~/Library/Developer/Xcode/UserData/CodeSnippets</code> 目录下。目前不支持子目录，所有的 Code Snippet 文件只能直接放在这个目录下。</p>

<div class="highlighter-rouge"><pre class="highlight prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="tag">&lt;key&gt;</span><span class="pln">IDECodeSnippetIdentifier</span><span class="tag">&lt;/key&gt;</span></code></li><li class="L1"><code><span class="tag">&lt;string&gt;</span><span class="pln">xtm-cs-table-view-delegate</span><span class="tag">&lt;/string&gt;</span></code></li></ol></pre>
</div>

<p>Code Snippet 文件中的 <code class="highlighter-rouge">IDECodeSnippetIdentifier</code> 这个字段需要注意，不要与其他的 Code Snippet 文件重复，否则 Xcode 会崩溃。当你在 Xcode 中创建一个 Code Snippet 时，Xcode 会为你自动生成对应的 Identifier。</p>

<h3 id="file-template">File Template</h3>

<p>在 Xcode 中使用 File Template 就如同我们在工程中新添加文件的流程一样，只不过文件模板是我们可以自定义的。</p>

<p>File Template 是以后缀为 <code class="highlighter-rouge">.xctemplate</code> 的文件夹形式存储。</p>

<p>Xcode 的官方 File Template 存在 <code class="highlighter-rouge">/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/File\ Templates</code> 和 <code class="highlighter-rouge">/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/File\ Templates</code> 路径下。</p>

<p>我们自己的模板可以拷到上面的目录里去使用，但是建议的做法是放在 <code class="highlighter-rouge">~/Library/Developer/Xcode/Templates</code> 目录下，并且支持子目录，比如可以放在 <code class="highlighter-rouge">~/Library/Developer/Xcode/Templates/My\ Templates/My\ File\ Templates</code> 里。</p>

<h3 id="project-template">Project Template</h3>

<p>在 Xcode 中使用 Project Template 就如同我们新创建一个工程的流程一样，只不过工程项目模板是我们可以自定义的。</p>

<p>Project Template 是以后缀为 <code class="highlighter-rouge">.xctemplate</code> 的文件夹形式存储。</p>

<p>Xcode 的官方 Project Templates 存在 <code class="highlighter-rouge">/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/Project\ Templates</code> 和 <code class="highlighter-rouge">/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/Project\ Templates</code> 路径下。</p>

<p>我们自己的模板可以拷贝到上面的目录里去使用，但是建议的做法是放在 <code class="highlighter-rouge">~/Library/Developer/Xcode/Templates</code> 目录下，并且支持子目录，比如可以放在 <code class="highlighter-rouge">~/Library/Developer/Xcode/Templates/My\ Templates/My\ Project\ Templates</code> 里。</p>

<h3 id="xcode-plugin">Xcode Plugin</h3>

<p>Xcode Plugin 不是模板技术，但是好用的 Xcode 插件也能很好地协助我们的开发工作，所以这里捎带提一下。</p>

<p>Xcode Plugin 是以后缀为 <code class="highlighter-rouge">.xcplugin</code> 的文件夹形式存放在 <code class="highlighter-rouge">~/Library/Application\ Support/Developer/Shared/Xcode/Plug-ins</code> 目录下或者以后缀为 <code class="highlighter-rouge">.ideplugin</code> 文件形式存放在 <code class="highlighter-rouge">~/Library/Developer/Xcode/Plug-ins</code> 目录下。</p>

<p>这里推荐几个插件示例：</p>

<ul>
  <li>Alcatraz。这是一个管理 Xcode 插件的插件，你可以用 Alcatraz 方便的搜索、安装、卸载其他 Xcode 插件。项目地址：<a href="https://github.com/alcatraz/Alcatraz" target="_blank" class="external">https://github.com/alcatraz/Alcatraz</a>。</li>
  <li>VVDocumenter。这是一个帮助你快速生成方法规范注释的插件。项目地址：<a href="https://github.com/onevcat/VVDocumenter-Xcode" target="_blank" class="external">https://github.com/onevcat/VVDocumenter-Xcode</a>。</li>
  <li>OMColorSence。当写 UIColor 时能够实时看到对应的颜色。可以在 Alcatraz 中搜到。</li>
</ul>

<p>这些插件随着 Xcode 的升级有时可能并不稳定，出现问题时，到上面说到的目录下重装或卸载掉就好了。</p>



        <!-- Apple Affiliate Program -->
        <!-- div id='ibb-widget-root'></div>
        <script>
            (
                function(t,e,i,d){
                    var ran = Math.floor(Math.random() * 3) + 1;
                    if (ran == 2) {
                        return;
                    };

                    var o=t.getElementById(i),n=t.createElement(e);
                    o.style.height=250;
                    o.style.width=300;
                    o.style.display='inline-block';
                    n.id='ibb-widget',n.setAttribute('src',('https:'===t.location.protocol?'https://':'http://')+d),n.setAttribute('width','300'),n.setAttribute('height','250'),n.setAttribute('frameborder','0'),n.setAttribute('scrolling','no'),o.appendChild(n)
                }
            )(document,'iframe','ibb-widget-root',"banners.itunes.apple.com/banner.html?partnerId=&aId=1001l9IL&bt=genre&t=genre_matrix_white&ft=topfreeapplications&st=apps&s=36&p=27&c=cn&l=zh-CHS&w=300&h=250");
        </script -->

        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
                <script type="text/javascript" charset="utf-8">
                (function(){
                  var _w = 86 , _h = 16;
                  var param = {
                    url:location.href,
                    type:'6',
                    count:'', /**是否显示分享数，1显示(可选)*/
                    appkey:'', /**您申请的应用appkey,显示分享来源(可选)*/
                    title:'', /**分享的文字内容(可选，默认为所在页面的title)*/
                    pic:'', /**分享图片的路径(可选)*/
                    ralateUid:'1237474277', /**关联用户的UID，分享微博会@该用户(可选)*/
                    language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/
                    rnd:new Date().valueOf()
                  }
                  var temp = [];
                  for( var p in param ){
                    temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
                  }
                  document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="'+ _w+'" height="'+_h+'"></iframe>')
                })()
                </script><iframe allowtransparency="true" frameborder="0" scrolling="no" src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/weiboshare.html" width="86" height="16"></iframe>
            </div>
            <!-- [ 评论加载方式1：点击“点击查看评论”才加载评论
            <a href="#" class="comment" onclick="return false;">点击查看评论</a>
            评论加载方式1：点击“点击查看评论”才加载评论 ] -->
            <div id="disqus_thread"></div>
            <!-- [ 评论加载方式2：进入页面时即开始加载评论 -->
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES * * */
                var disqus_shortname = 'samirchenblog';
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the &lt;a href="https://disqus.com/?ref_noscript" rel="nofollow"&gt;comments powered by Disqus.&lt;/a&gt;</noscript>
            <!-- 评论加载方式2：进入页面时即开始加载评论 ] -->
        </div>
    </div>

    
    <div class="sidenav">
        <iframe width="100%" height="75" class="share_self" frameborder="0" scrolling="no" src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/index.html"></iframe>
    </div>

    

    <div class="sidenav">
        <a href="http://www.samirchen.com/"><h2>Blog</h2></a>
        <ul class="artical-list">
        
            <li><a href="http://www.samirchen.com/ios-index/">iOS 开发知识索引</a></li>
        
            <li><a href="http://www.samirchen.com/ios-av-time-and-representations/">AVAudioFoundation(6)：时间和媒体表示</a></li>
        
            <li><a href="http://www.samirchen.com/ios-av-export/">AVAudioFoundation(5)：音视频导出</a></li>
        
            <li><a href="http://www.samirchen.com/ios-av-record/">AVAudioFoundation(4)：音视频录制</a></li>
        
            <li><a href="http://www.samirchen.com/ios-av-edit/">AVAudioFoundation(3)：音视频编辑</a></li>
        
        </ul>

        <a href="http://www.samirchen.com/opinion"><h2>Opinion</h2></a>
        <ul class="artical-list">
        
            <li><a href="http://www.samirchen.com/wechat-new-version-6-5-4/">用微信红包弹一首「两只老虎」</a></li>
        
            <li><a href="http://www.samirchen.com/wechat-little-program/">动态图带你体验微信小程序</a></li>
        
            <li><a href="http://www.samirchen.com/bicycle-sharing/">骑行改变城市</a></li>
        
            <li><a href="http://www.samirchen.com/overload/">过载</a></li>
        
            <li><a href="http://www.samirchen.com/stride-over-discontinuity/">跨越不连续性</a></li>
        
        </ul>

        <a href="http://www.samirchen.com/project"><h2>Project</h2></a>
        <ul class="artical-list">
        
            <li><a href="http://www.samirchen.com/app-store-weekly-rank-81/">AppStore 每周排行榜 - 第 81 期</a></li>
        
            <li><a href="http://www.samirchen.com/app-store-weekly-rank-80/">AppStore 每周排行榜 - 第 80 期</a></li>
        
            <li><a href="http://www.samirchen.com/app-store-weekly-rank-79/">AppStore 每周排行榜 - 第 79 期</a></li>
        
            <li><a href="http://www.samirchen.com/app-store-monthly-rank-6/">AppStore 2017 年 6 月排行榜</a></li>
        
            <li><a href="http://www.samirchen.com/app-store-weekly-rank-78/">AppStore 每周排行榜 - 第 78 期</a></li>
        
        </ul>
    </div>
</div>

<script src="./用 Xcode 中的代码模板去推进 iOS 项目规范和提高代码复用 _ SamirChen_files/post.js" type="text/javascript"></script>




    <!-- 看到这里请删除下面的代码哦！--> 
    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44627668-1', 'auto');
      ga('send', 'pageview');
    </script>

    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>




</body></html>